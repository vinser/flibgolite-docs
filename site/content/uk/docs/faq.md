---
author: Serguei Vine
title: FAQ
description: Часті питання
lastmod: 2025-01-06
slug: часті-питання
layout: docs
---

1. З ipad установника для вінди не видно.
- Для встановлення в якості сервісу потрібно завантажити релізне складання для потрібної ОС та процесора хоста і запустити його на хості з параметрами, як написано в {{< link href="docs/guide" >}}Інструкціі користувача{{< /link >}}.  

2. Поки не злітає:
```bash
$ ./flibgolite-linux-amd64 -reindex
```
- Щоб злетів, запускати потрібно без параметрів або з параметром `-config`, якщо хочете виправити дефолтну конфігурацію (див. {{< link href="docs/advanced" >}}Розширений посібник{{< /link >}}).
 - Параметр `-reindex` використовується для примусової переіндексації готового сховища (БД) та практично не потрібен.
 - Після налаштування конфігурації рекомендую встановити flibgolite як сервіс, тоді він буде працювати в бекграунді та автоматично стартувати при включенні або перезавантаженні ПК. Спеціальних знань для встановлення, а також будь-яких сторонніх програм не потрібно. Є готові файли під Linux, Windows, macOS, FreeBSD. Взяти можна {{< latest-url >}} тут {{< /latest-url >}}.
 - Оскільки flibgolite написано на голому Go, бажаючі та вміючі можуть легко зібрати з вихідних текстів під свою ОС

3. Скажіть, а я правильно зрозумів – ви підкаталоги не скануєте?
- Так, ви маєте рацію, підкаталоги не скануються.
Обробляються тільки файли EPUB, FB2 та ZIP-архіви з FB2, що лежать безпосередньо в каталозі, прописаному в `STOCK`

4. У журналі (logs/scan.log) купа однотипних записів виду: (ім'я файлу тут не завадило б звичайно)
- За замовчуванням, щоб не пухли журнали, в `config.yml` рівень журналування logs/LEVEL встановлений `W` - warnings та вище. Якщо потрібно докладніше, можна поміняти на `I` - info або `D` - debug

5. А архіви zip64 хоч нормально обробляються (наприклад, флібусівські по 3..4 гіга)?
- Так, обробляються.

6. Навіщо нормальний формат FB2 віддавати як EPUB?
- EPUB і є нормальний міжнародний формат, а FB2, хоч би як він був хороший, лише формат Рунета. Навряд чи є читалка, яка не розуміє EPUB, чого не скажеш про FB2. Деякі читалки OPDS дають змогу вибрати, в якому форматі завантажувати.
- Перетворення FB2->EPUB легко вимкнути налаштуванням в config.yml
```yml
# Do not convert FB2 to EPUB format
NO_CONVERSION: true
```

7. А де можна поглянути на інтерфейс видачі вашої проги для web/opds? На жаль, на сайті його просто нема.
- У FLibGoLite немає свого інтерфейсу користувача, це сервіс, який видає каталог книг у форматі OPDS.
Тому інтерфейс, у якому відображається каталог, залежить від того, яку читалку використовувати. Але структура каталогу бібліотеки буде однаковою для всіх читалок. Книги в каталозі можна вибирати за автором, жанром, серією. А можна просто, тицьнувши в лупу, шукати за назвою та/або автором і отримувати швидку релевантну видачу.

8. Помітив, що назва програми інша...
- Бінарнику/exe-шнику можна дати будь-яке ім'я. У юніксах треба встановити йому дозвіл на виконання.
У бібліотеці назву "FLib Go Go Go!!!", яка відображається в читалці, можна поміняти в config.yml.

9. Дивно, що я не маю рядка пошуку в бібліотеці з введенням назви, автора і т.д. Лише перебором у списку.
- Є контекстний пошук за автором та/або назвою книги. Він зазвичай у окремому полі у самій читалці, зазвичай угорі, поруч із лупою.

10. Ось думаю, хардпосилання якщо в папку зробити з папки торрента в папку stocs? Щоб книжки одразу туди з торрента гойдалися.
- Лінки працюють:
  - **Windows 10** - `mklink /J .\books D:\FGL\books`
  - **Ubuntu 24.04** - `ln -s /home/user/Dev/books books`
- Можна й у config.yml налаштувати потрібну папку. При працюючому сервісі можна копіювати файли в stock. Сервіс перевіряє, що файл ще не готовий і чекає, поки скопіюється.

11. А оновлювати як? Просто замінювати екзешник?
- Поки що для оновлення потрібно зупинити сервіс та замінити екзешник. Якщо будуть зміни до БД, то видаляти БД – попереджаю про це у мажорних випусках.
Поки немає ручних змін (web-інтерфейсу), вважаю, що видалити базу даних каталогу та створити новий каталог швидше, ніж робити міграцію з урахуванням контекстної індексації.

12. Як перевірити кількість книг у базі?
- Кількість книг у каталозі можна переглянути в читалці в секції "Мова/Вибери мову книги". Там є цифри, скільки книжок і якою мовою в каталозі.
Ще потрібно врахувати, що за замовчуванням до каталогу додаються книги не всіма мовами, див. у документації як додати/видалити мову.

13. Але книг все одно менше бачиться, ніж у інших каталогах.
- FLibGoLite не включає до каталогу дублікати. Є налаштування трьох рівнів відбракування дублікатів:
  - S – slow. Перевіряється збіг CRC32 або Назва+Опис.
  - F – fast. Перевіряється лише збіг CRC32 - за замовчуванням
  - N – none. Дублікати не відбраковуються.

14. А чи підтримка PDF у вас є?
- Конвертація у PDF чи додавання до каталогу відомостей про книгу у форматі PDF?
Конвертацію поки що не планую.
Для другого у мене немає розуміння про стандарт метаданих у PDF (автор, назва, ...), а якщо заносити вручну, то адмінки поки що теж ніякої немає.

15. Підключаюсь двома смартами. На одному в першому списку автори та книги англійською мовою. Усіх інших просто немає. За рештою треба йти в кореневий поділ мов і далі. На другому смарті все те саме, але замість англійської - російська мова.
- Для тих читалок, які у своєму запиті до сервісу вказують потрібну мову в заголовку `Accept-Language`, сервіс повертає першу сторінку для запитуваної мови, а для тих, що не використовують такий заголовок, показує мовою за замовчуванням. За бажанням можна виставити мову за замовчуванням див. Розширене посібник, п.4.2.

16. Як увімкнути у кореневому розділі "Книги"? тобто список книг
- Увімкнути на першій сторінці розділ "Книги" не вийде - його немає. Незрозуміло його призначення – перебирати книги за абеткою?
Є тільки повнотекстовий пошук за базою каталогу (FTS5), в якому шукається одночасно в назвах та авторах, який може повернути дві групи: Книги та Автори
У кожній із груп знайдене сортується за зменшенням релевантності, приблизно, як у видачах стандартних пошукових движків.
І це основний і найшвидший пошук у каталозі, якщо знаєш назву або автора.

- Логіка приблизно така:
  - Потрібна конкретна книга - використовуй пошук
  - Хочеш подивитися список книг автора - шукай за автором або в Авторах з алфавіту
  - Хочеш чогось почитати на тему - шукай у жанрах
  - Хочеш із серії - шукай у серіях
  - Мовою оригіналу - вибирай мову

17. Якщо бібліотека на ноуті, вона повинна бути постійно включена і бути в мережі?
- Ні, тільки тоді, коли Вам потрібно завантажити з нього книгу.

18. Хочу додати до цієї бібліотеки папку з підпапками. Файли кудись перемістяться або перейменуються?
- Логіка роботи з підпапками поки не продумана, тому не реалізована.
Починаючи з релізу v2.2.0, файли не переміщаються. Все лежить у папці, прописаній у `STOCK`.
За замовчуванням сканування запускається через 5 хвилин (300 с) після закінчення попереднього.
Якщо бібліотека поповнюється нечасто, можна сканувати, наприклад, через добу (POLL_DELAY: 86400)

19. Якщо в налаштуваннях мови ru, en, ru мова інтерфейсу плаває між російською та англійською.
- Параметр ACCEPTED: "en, ru, uk" це лише перерахування мов, для яких інформація про книги заноситься до каталогу. Це не пов'язане із локалізацією.
Для встановлення мови інтерфейсу (дерева OPDS) за замовчуванням у конфізі є спеціальна опція
```yml
locales:
 DEFAULT: "en"
```
в якій вибрана мова має бути одним з наявних файлів локалізації, і мати відповідний переклад у genres.xml
Докладніше це описано в англомовній версії документації.

20. Запускаю PowerShell, але ввести ці команди не вдається. Видає помилку - flibgolite: Ім'я "flibgolite" не розпізнане...
- Коротко:
  1. Оскільки у вас Windows, завантажте {{< latest-url >}} звідси {{< /latest-url >}} файл `flibgolite-windows-amd64.exe`.
  2. У своїй папці `C:\users\<ваша особиста папка>` створіть папку `flibgolite`. Можете використати провідник.
  3. З папки Завантаження в цю папку `flibgolite` перенесіть файл `flibgolite-windows-amd64.exe` та перейменуйте його на `flibgolite.exe`
  4. Відкрийте PowerShell (адміністратор) і перейдіть до створеної папки командою `cd C:\users\<ваша особиста папка>\flibgolite`
  5. І далі, як написано в документації, наберіть команду `flibgolite -service install`

21. Ще питання, чи мають бути в директорії locales файли `en.yml`?
- При першому запуску flibgolite у поточній папці створює кілька папок, зокрема папку config
```console
config
├── config.yml
├── genres.xml
└── locales
    ├── en.yml
    ├── ru.yml
    └── uk.yml
```
У папці locales потрібна наявність хоча б файлу локалізації для мови за умовчанням, наприклад, для `en` - `en.yml`